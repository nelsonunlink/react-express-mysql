# PersistentVolume for MySQL data storage
# Uses hostPath for Minikube - for production, use cloud provider storage class
apiVersion: v1
kind: PersistentVolume
metadata:
  name: mysql-pv
spec:
  capacity:
    storage: 2Gi
  accessModes:
    # ReadWriteOnce: Can be mounted as read-write by a single node
    - ReadWriteOnce
  hostPath:
    # Minikube-specific: Data persists on the Minikube VM
    path: /data/mysql
  # Retain: Keep data even after PVC is deleted
  persistentVolumeReclaimPolicy: Retain
---
# PersistentVolumeClaim - Requests storage from available PersistentVolumes
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: mysql-pvc
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 2Gi